<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: collections/Content.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: collections/Content.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>goog.provide('AutoMan.collections.Content');

goog.require('goog.structs.TreeNode');
goog.require('goog.events.Event');
goog.require('goog.events.EventTarget');

/**
 * @class Content node class that allows for tree like handling of content.
 * 
 * @extends {goog.structs.TreeNode}
 * 
 * @param {?*} key_Node Key, if one is not provided a guid for this object is used instead.
 * @param {!Object} data Node data.
 */
AutoMan.collections.Content = function(content) {
  var id = goog.getUid(this);

  if(content && goog.isDefAndNotNull(content.id)) {
    id = content.id;
  }

  goog.base(this, id, content || {});

  this.eventTarget_ = new goog.events.EventTarget();

  this.updateData(this.getData(), true);
};

goog.inherits(AutoMan.collections.Content, goog.structs.TreeNode);

/**
 * Events Supported by Content.
 * 
 * @type {Object}
 */
AutoMan.collections.Content.Events = {
  'ContentChange'   : 'Content.Change',
  'ContentAdded'    : 'Content.Added',
  'ContentRemoved'  : 'Content.Removed',
  'ContentMoved'    : 'Content.Moved'
};

/**
 * Returns data node of content. 
 * 
 * @return {!Object}
 */
AutoMan.collections.Content.prototype.getData = function() {
  return this.getValue().data || {};
};

/**
 * Returns type of content.
 * 
 * @return {!String}
 */
AutoMan.collections.Content.prototype.getType = function() {
  return this.getValue().type || '';
};

/**
 * Returns key of node.
 * 
 * @return {!*}
 */
AutoMan.collections.Content.prototype.getId = function() {
  return this.getKey();
};

/**
 * Returns event target used by instance to allow external event binding.
 * 
 * @return {!goog.events.EventTarget}
 */
AutoMan.collections.Content.prototype.getEventTarget = function() {
  return this.eventTarget_;
};

/**
 * Updates internal data.
 * 
 * @param  {!Object} data
 * @param  {?Boolean} fire Should we fire change events even when data is equivalent?
 */
AutoMan.collections.Content.prototype.updateData = function(data, fire) {
  if(!data) {
    return;
  } else if(data === this.getData() && !fire) {
    return;
  }

  this.value_.data = data;

  this.dispatchEvent_(new goog.events.Event(this.Events.ContentChange, this));
};

/**
 * Augments super addChildAt to allow notification of listeners.
 * 
 * @param {!AutoMan.collections.Content} child
 * @param {!Number} index
 */
AutoMan.collections.Content.prototype.addChildAt = function(child, index) {
  goog.base(this, 'addChildAt', child, index);

  this.dispatchEvent_(new goog.events.Event(this.Events.ContentAdded, child));
};

/**
 * Augments super setParent to allow notifications of listeners.
 * 
 * @param {!AutoMan.collections.Content} parent
 */
AutoMan.collections.Content.prototype.setParent = function(parent) {
  goog.base(this, 'setParent', parent);

  if(this.isOrphan()) {
    this.dispatchEvent_(new goog.events.Event(this.Events.ContentRemoved, this));
  } else {
    this.dispatchEvent_(new goog.events.Event(this.Events.ContentMoved, this));
  }
};

/**
 * Determines if this node has a parent.
 * 
 * @return {!Boolean}
 */
AutoMan.collections.Content.prototype.isOrphan = function() {
  return !this.getParent();
};

/**
 * Convienence method that just saves on typing.
 * 
 * @param  {!goog.events.Event} event
 */
AutoMan.collections.Content.prototype.dispatchEvent_ = function(event) {
  this.getEventTarget().dispatchEvent(event);
};

/**
 * Allows 'this' access of Events.
 * 
 * @type {Object}
 */
AutoMan.collections.Content.prototype.Events = AutoMan.collections.Content.Events;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="AutoMan.collections.Content.html">Content</a></li><li><a href="AutoMan.common.Error.html">Error</a></li><li><a href="AutoMan.parsers.content.AbstractParser.html">AbstractParser</a></li><li><a href="AutoMan.parsers.content.Html.html">Html</a></li><li><a href="AutoMan.parsers.content.Json.html">Json</a></li><li><a href="AutoMan.parsers.content.Object.html">Object</a></li><li><a href="AutoMan.parsers.Error.html">Error</a></li><li><a href="AutoMan.sources.content.AbstractContentSource.html">AbstractContentSource</a></li><li><a href="AutoMan.sources.Factory.html">Factory</a></li><li><a href="AutoMan.ui.Builder.html">Builder</a></li><li><a href="AutoMan.ui.components.AbstractComponent.html">AbstractComponent</a></li><li><a href="AutoMan.ui.components.Carousel.html">Carousel</a></li><li><a href="AutoMan.ui.components.Factory.html">Factory</a></li><li><a href="AutoMan.ui.components.Generic.html">Generic</a></li><li><a href="AutoMan.ui.components.Root.html">Root</a></li><li><a href="Image.html">Image</a></li><li><a href="Script.html">Script</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.0</a> on Sun Dec 15 2013 19:20:10 GMT-0700 (MST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
